{% extends "user/base.html" %}
{% block content %}

<style>
    .main-frame {
        display: grid; width: 100%; height: 100%;
        grid-template-columns: 100%;
        grid-template-rows: 40% 40% 20%;
    }
    .song-cover, .song-cover img {
        height: 90%; aspect-ratio: 1/1; object-fit: cover;
        border-radius: 30px;
    }
    .song-container {
        grid-column-start: 1; grid-column-end: 1;
        grid-row-start: 1; grid-row-end: 1;
        background-color: rgb(255, 215, 215);
        width: 100%; height: 100%; display: flex;
        align-items: center; gap: 30px; padding: 0 30px;
    }
    .lyrics {
        grid-column-start: 1; grid-column-end: 1;
        grid-row-start: 2; grid-row-end: 2;
        width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center;
        overflow: auto;
    }
    .player {
        grid-column-start: 1; grid-column-end: 1;
        grid-row-start: 3; grid-row-end: 3;
        width: 100%; height: 100%; background-color: #8e0202;
    }
    .song-cover-side {
        width: 100%;
    }
    .song-container .controls {
        width: 60%; padding: 30px;
        display: flex; align-items: center; justify-content: space-between;
    }
</style>

<div class="main-frame">
    <div class="song-container">
        <div class="song-cover">
            <img src="{{url_for('static',filename='uploads/images/song_covers/')}}{{song.cover}}">
        </div>
        <div class="song-cover-side">
            <div class="song-details">
                <h2>{{song.title}}</h2>
                <p>{% if song.artist %}By: {{song.artist}} ~ {% endif %}Duration: {{song.duration}} ~ Language: {{song.language}}</p>
            </div>
            <div class="controls">
                <a  href="/songs/{{song.id}}/rate">
                    <img style="width: 60px;" src={% if has_user_liked(current_user, song) %}"{{url_for('static',filename='images/liked.png')}}"{% else %}"{{url_for('static',filename='images/not_liked.png')}}"{% endif %}>
                </a>
                <a href="/download/{{song.id}}">Download</a>
                <a href="add or remove from playlists">Add to playlist</a>
            </div>
        </div>
    </div>
    <div class="lyrics">        
        <div style="white-space: pre;">
<h2>Song lyrics</h2>
{% if song.lyrics %}{{get_lyrics(song.lyrics)}}{% else %}No lyrics uploaded{% endif %}            
        </div>
    </div>
    <div class="player">
        rewind -skip play/pause skip next 
    </div>
</div>


{% endblock %}